Υλοποίηση προγράμματος
 Kernighan; Ritchie (1988). "6". The C Programming Language (2nd ed.). p. 118. ISBN 0-13-110362-8.
 
Ο βασικός κορμός του προγράμματος υλοποιείται με τη χρήση δύο πινάκων, Hashtable 1 και Hashtable 2, οι οποίοι δημιουργούνται δυναμικά μετά την εισαγωγή του πλήθους των εγγραφών τους κατά την κλήση του προγράμματος. Οι δύο πίνακες περιλαμβάνουν δείκτες σε μία συνδεδεμένη λίστα, όπου ο κάθε node είναι τύπου struct caller_bucket_list. Κάθε node της λίστας αποτελεί ουσιαστικά και έναν bucket για τους caller που το hash function έφερε στην ίδια θέση του Hashtable. 

To node της struct caller_bucket_list περιλαμάνει έναν δείκτη next για τον επόμενο κόμβο (bucket ουσιαστικά) της συνδεδεμένης λίστας και έναν πίνακα caller_bucket. Ο caller_bucket είναι ένας πίνακας που δημιουργείται επίσης δυναμικά με δεδομένα που εισάγονται κατά την κλήση του προγράμματος, και οι εγγραφές του είναι struct caller_type. 

Το struct caller_type είναι μία δομή που περιλαμβάνει τα data του κάθε caller/callee. Μέλη της λίστας είναι το number[15], όπου αποθηκεύεται ο αριθμός του κάθε χρήστη και ένας δείκτης που δείχνει σε μία συνδεδεμένη λίστα με όλα τα cdr του συγκεκριμένου caller/callee. 

Κάθε cdr αποθηκεύεται σε struct cdrtype, η οποία περιλαμβάνει όλα τα data του κάθε cdr, καθώς και έναν δείκτη για τον επόμενο κόμβο-cdr της συνδεδεμένης λίστα των cdrtype.

Τελευταία βοηθητική δομή είναι το binary heap tree, το οποίο χρησιμοποιείται για την υλοποίηση της λειτουργιας top k του προγράμματος. Μετά την εισαγωγή κάθε cdr, το κόστος εισάγωγεται στο δέντρο και είτε προστίθεται σε κάποιον υπάρχοντα κόμβο (εάν είναι cdr υπάρχονται caller), είται δημιουργείται νέος κόμβος στην επόμενη διαθέσιμη θέση. Οι μεταβλητές current_level και max_level κρατάνε το δέντρο ισορροπημένο μετά από κάθε εισαγωσγή cdr. Το δέντρο παραμένει heap, μέσω της συνάρτησης heapify: κάθε νέος κόμβος συγκρίνεται με τον parrent node, και αλλάζει θέση με αυτός εάν έχει μεγαλύτερο value. Αυτό συνεχίζεται με τη χρήση αναδρομής, μέχρι να φτάσει στο root του δέντρο ή το parrent node να έχει μεγαλύτερο value από το νεοεισαχθές.

Η Hash Function που υπολοιέιται είναι αρκετά απλή, η οποία προσθέτει όλα τα ψηφία του κάθε τηλεφώνου (ASCII τιμές) και επιστρέφει το modulo με το Hashtable size.

Το πρόγραμμα αποτελείται απο τα παρακάτω source και header files:
decl.h : Αρχείο κεφαλίδας που περιλαμβάνει όλες τις δηλώσεις global μεταβλητών, καθώς και τις δηλώσεις όλων των συναρτήσεων που χρησιμοποιήθηκαν στο πρόγραμμα.
main.c: Περιλαμβάνει τη main συνάρτηση, η οποία φροντίζει για την κλήση του προγράμματος και τα δεδομένα που εισάγωνται κατά την κλήση του.
menu.c: Περιλαμβάνει την menu function, η οποία υπολοιεί το UI ώστε ο χρήστης να χρησιμοποιεί το πρόγραμμα από το terminal του unix.
file_menu.c: Περιλαμβάνει το menu που χειρίζεται τις εισαγωγές μέσω αρχείου.
hash.c: Περιλαμβάνει τις βασικές συναρτήσεις για την λειτουργία του προγράμματος: την hash, init, insert, lookup, find, delcdr, printhashtable.
heap.c : Περιλαμβάνει τις συναρτήσεις για την υλοποίηση του binary heap tree.
strings.c: Περιλαμβάνει δύο συναρτήσεις που έγραψα για την σύγκριση και την αντιγραφή strings, αντί να χρησιμοποιήσω τις αντίστοιχες της stdlib.

Σε κάθε εισόδο γίνεται ο όσο το δυνατόν καλύτερος έλεγχος για σφάλματα, κυρίως σε ότι αφορά τα δεδομένα που εισάγει ο χρήστης από το terminal.




Λειτουργία προγράμματος

Το πρόγραμμα καλείται από το terminal με τα υποχρεωτικά flags -h1, -h2, -s και -o και το προεραιτικό -c. Τα h1 και h2 είναι το πλήθος των εγγραφών των hashtables, ενώ το s δίνεται σε Bytes και υπολογίζεται το μέγεθος του πίνακα μέσα στο πρόγραμμα. Το μέγεθος της κάθε εγγραφής του bucket είναι 24 Bytes. Εάν τα υποχρεωτικά flags δεν δοθούν σωστά, το πρόγραμμα δεν θα λειτουργήσει, εκτός από το -o, οπότε και θα λειτουργήσει χωρίς να διαβάσει κάποιο αρχείο.

Αρχικά υλοποιούνται όλες οι εντολές του αρχείου. Παίρνει μία προς μία όλες τις λέξεις κάθε σειράς, και ανάλογα με την πρώτη λέξη κάθε σειράς καλεί και την κατάλληλη συνάρτηση για την αντίστοιχη λειτουργία. 

Αφότου τελειώσει το διάβασμα του αρχείου, μπαίνει στο menu το οποίο παίρνει είσοδο από το terminal. Ανάλογα την είσοδο του χρήστη, θα εκτελέσει και την αντίστοιχη συνάρτηση – λειτουργια. 

Ο τερματισμός του προγαμματος γίνεται με την επιλογή bye, με την οποία ελευθερώνεται κάθε τμήμα μνήμης που έγινε allocate και δίνεται η επιλογή για οριστική έξοδο ή συνέχεια στο μενού το προγράμματος.



Προβλήματα

Λόγω έλλειψης χρόνου δεν υλοποιήθηκαν οι λειτουργίες topdest και indest, όπως ζητούσε η εκφώνηση της άσκησης. 
Η υλοποιήση του binary heap tree έγινε επίσης βιαστικά με αποτέλεσμα να μην λειτουργεί βέλτιστα. Καθυστερεί πολύ στην εισαγωγή μεγάλου όγκου δεδομένων (λειτούργησε καλά μέχρι και το ενδεικτικό input5.txt).